<nav class="navbar navbar-expand-md navbar-dark bg-dark" id="navbar">
  <a class="navbar-brand" href="#"><img id="navlogo" src="https://localhost:4200/assets/Mauripreneur-logos_white.png" alt=""></a>
  <button class="navbar-toggler" type="button" (click)="collapse.toggle()" [attr.aria-expanded]="!isCollapsed">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarsExample04" #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
    <!---Using the Async pipe function to see if currentUser is loggedIn // Note that when making the account service public
    we can access it directly in the template-->
    <ul class="navbar-nav mr-auto" *ngIf="accountService.currentUser$| async">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>           
    </ul>

    <div class="dropdown" *ngIf="accountService.currentUser$ | async" dropdown style="margin:1em 2em;">
      <a class="dropdown-toggle text-light" dropdownToggle>Welcome User</a>
      <div class="dropdown-menu" *dropdownMenu>
        <a class="dropdown-item">Edit Profile</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" (click)="logout()">Logout</a>
      </div>
    </div>
    <div class="fixed-right">
      <form class="form-inline my-2 my-md-0">
        <input class="form-control" type="text" placeholder="Search">
        <a class="nav-link " href="#"><button class="btn btn-outline-info" *ngIf="(accountService.currentUser$ | async) === null" (click)="open(content)">Login</button></a>
      </form>
    </div>
    
  </div>
  <ng-template #content let-modal>
    <div class="modal-header">
      <img src="https://localhost:4200/assets/mauri_bleu.png" style="height:35%;width:35%;" alt="">
    </div>
    <div class="modal-body">

      <div class="container1">
        <div class="screen">
          <div class="screen__content">
            <form #loginForm="ngForm" class="login" (ngSubmit)="login()" autocomplete="off">
              <div class="login__field">
                <i class="login__icon fas fa-user"></i>
                <input 
                name="username"
                [(ngModel)]="model.username"
                type="text" 
                class="login__input" 
                placeholder="User name / Email">
              </div>
              <div class="login__field">
                <i class="login__icon fas fa-lock"></i>
                <input 
                name="password"
                [(ngModel)]="model.password"
                type="password" 
                class="login__input" 
                placeholder="Password">
              </div>
              <!-----LIRE LOR how to dismiss Modal on Submit -->
              <button class="button login__submit" type="submit" data-dismiss="modal">
                <span class="button__text">Log In Now</span>
                <i class="button__icon fas fa-chevron-right"></i>
              </button>				
            </form>
            <div class="social-login">
              <h3>log in via</h3>
              <div class="social-icons">
                <a href="#" class="social-login__icon fab fa-instagram"></a>
                <a href="#" class="social-login__icon fab fa-facebook"></a>
                <a href="#" class="social-login__icon fab fa-twitter"></a>
              </div>
            </div>
          </div>
          <div class="screen__background">
            <span class="screen__background__shape screen__background__shape4"></span>
            <span class="screen__background__shape screen__background__shape3"></span>		
            <span class="screen__background__shape screen__background__shape2"></span>
            <span class="screen__background__shape screen__background__shape1"></span>
          </div>		
        </div>
      </div>

    </div>
   
  </ng-template>  
</nav>